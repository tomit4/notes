<?xml version="1.0" encoding="UTF-8"?><feed xmlns="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/"><category term="awk" label="r/awk"/><updated>2023-01-24T03:33:47+00:00</updated><icon>https://www.redditstatic.com/icon.png/</icon><id>/r/awk.rss</id><link rel="self" href="https://www.reddit.com/r/awk.rss" type="application/atom+xml" /><link rel="alternate" href="https://www.reddit.com/r/awk" type="text/html" /><subtitle>AWK - programming language by Aho, Weinberger and Kernighan</subtitle><title>AWK</title><entry><author><name>/u/mmkodali</name><uri>https://www.reddit.com/user/mmkodali</uri></author><category term="awk" label="r/awk"/><content type="html">&lt;!-- SC_OFF --&gt;&lt;div class=&quot;md&quot;&gt;&lt;p&gt;i am new to using awk.&lt;/p&gt; &lt;p&gt;i have written a simple one liner script to calculate memory consumed by a program as below.&lt;/p&gt; &lt;p&gt;```&lt;/p&gt; &lt;h1&gt;!/usr/bin/env bash&lt;/h1&gt; &lt;p&gt;read -p &amp;quot;enter process name: &amp;quot; item;&lt;/p&gt; &lt;p&gt;ps aux | awk -vi=$item &amp;#39;/i/ {sum += $6} END { printf &amp;quot;Memory Usage: %d MB\n&amp;quot;, sum/1024 }&amp;#39;&lt;/p&gt; &lt;p&gt;```&lt;/p&gt; &lt;p&gt;in the above example, variable &amp;#39;i&amp;#39; is not substituted when executing script.&lt;/p&gt; &lt;p&gt;where i am going wrong?&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=&quot;https://www.reddit.com/user/mmkodali&quot;&gt; /u/mmkodali &lt;/a&gt; &lt;br/&gt; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/10jb47y/substituting_awk_variable_in_a_bash_script/&quot;&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/10jb47y/substituting_awk_variable_in_a_bash_script/&quot;&gt;[comments]&lt;/a&gt;&lt;/span&gt;</content><id>t3_10jb47y</id><link href="https://www.reddit.com/r/awk/comments/10jb47y/substituting_awk_variable_in_a_bash_script/" /><updated>2023-01-23T12:16:56+00:00</updated><published>2023-01-23T12:16:56+00:00</published><title>substituting awk variable in a bash script</title></entry><entry><author><name>/u/exquisitesunshine</name><uri>https://www.reddit.com/user/exquisitesunshine</uri></author><category term="awk" label="r/awk"/><content type="html">&lt;!-- SC_OFF --&gt;&lt;div class=&quot;md&quot;&gt;&lt;p&gt;I have an &lt;a href=&quot;https://0x0.st/ohns.txt&quot;&gt;xml file&lt;/a&gt; that I would like transform to this &lt;a href=&quot;https://0x0.st/ohnz.txt&quot;&gt;xml file&lt;/a&gt; in a shell script using awk. The resulting &lt;code&gt;diff&lt;/code&gt; is:&lt;/p&gt; &lt;pre&gt;&lt;code&gt;2,3c2 &amp;lt; &amp;lt;name&amp;gt;debian-11-test&amp;lt;/name&amp;gt; &amp;lt; &amp;lt;uuid&amp;gt;4ade684e-ce3e-4746-8292-528a84b98445&amp;lt;/uuid&amp;gt; --- &amp;gt; &amp;lt;name&amp;gt;debian-11-test-1&amp;lt;/name&amp;gt; 38c37 &amp;lt; &amp;lt;source file=&amp;#39;/tmp/vm/debian-11-test.qcow2&amp;#39;/&amp;gt; --- &amp;gt; &amp;lt;source file=&amp;#39;/tmp/vm/debian-11-test-1.qcow2&amp;#39;/&amp;gt; 88d86 &amp;lt; &amp;lt;mac address=&amp;#39;52:54:00:14:fa:09&amp;#39;/&amp;gt; 89a88 &amp;gt; &amp;lt;ip address=&amp;#39;192.168.122.11&amp;#39; prefix=&amp;#39;24&amp;#39;/&amp;gt; &lt;/code&gt;&lt;/pre&gt; &lt;p&gt;Looking for a mini awk script or command that can do this summary of the changes:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;p&gt;In the line containing &lt;code&gt;&amp;lt;name&amp;gt;debian-11-test&amp;lt;/name&amp;gt;&lt;/code&gt;, replace with &lt;code&gt;&amp;lt;name&amp;gt;${host}&amp;lt;/name&amp;gt;&lt;/code&gt; where &lt;code&gt;$host&lt;/code&gt; is a shell variable with the resulting string to be placed in the xml file.&lt;/p&gt;&lt;/li&gt; &lt;li&gt;&lt;p&gt;Delete the line with &lt;code&gt;&amp;lt;uuid&amp;gt;&lt;/code&gt; and &lt;code&gt;&amp;lt;/uuid&amp;gt;&lt;/code&gt;, ideally only deleting the first matching beginning from the above &lt;code&gt;&amp;lt;name&amp;gt;&amp;lt;/name&amp;gt;&lt;/code&gt; line or at least deleting the first match found in the file only.&lt;/p&gt;&lt;/li&gt; &lt;li&gt;&lt;p&gt;Same as the first change: want find line containing &lt;code&gt;&amp;lt;source file=&amp;#39;/tmp/vm/debian-11-test.qcow2&amp;#39;/&amp;gt;&lt;/code&gt; and replace with &lt;code&gt;&amp;lt;source file=&amp;#39;/tmp/vm/${host}.qcow2&amp;#39;/&amp;gt;&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt; &lt;li&gt;&lt;p&gt;Same as second change: delete the line with &lt;code&gt;&amp;lt;mac address=&amp;#39;52:54:00:14:fa:09&amp;#39;/&amp;gt;&lt;/code&gt;, ideally only deleting the first match beginning with the line containing &lt;code&gt;&amp;lt;interface type=&amp;#39;network&amp;#39;&amp;gt;&lt;/code&gt; or at least deleting the first match found in the file only.&lt;/p&gt;&lt;/li&gt; &lt;li&gt;&lt;p&gt;Finally, add a new line &lt;code&gt;&amp;lt;ip address=&amp;#39;192.168.122.$cnt&amp;#39; prefix=&amp;#39;24&amp;#39;/&amp;gt;&lt;/code&gt; after the line matching &lt;code&gt;&amp;lt;interface type=&amp;#39;network&amp;#39;&amp;gt;&lt;/code&gt; and then exiting immediately.&lt;/p&gt;&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;Much appreciated. I should be able to learn from suggestions and tweak if they don&amp;#39;t do exactly the above.&lt;/p&gt; &lt;p&gt;P.S. I&amp;#39;m aware of tools like &lt;code&gt;virt-sysprep&lt;/code&gt; to prepare the VM image but they are for prepping a base image whereas I want to do bake these changes into the VM image so they are generated fresh every time without requiring a clean base image that needs to be maintained.&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=&quot;https://www.reddit.com/user/exquisitesunshine&quot;&gt; /u/exquisitesunshine &lt;/a&gt; &lt;br/&gt; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/10j4cgc/append_to_first_matched_line_only_delete_first/&quot;&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/10j4cgc/append_to_first_matched_line_only_delete_first/&quot;&gt;[comments]&lt;/a&gt;&lt;/span&gt;</content><id>t3_10j4cgc</id><link href="https://www.reddit.com/r/awk/comments/10j4cgc/append_to_first_matched_line_only_delete_first/" /><updated>2023-01-23T05:00:20+00:00</updated><published>2023-01-23T05:00:20+00:00</published><title>Append to first matched line only, delete first matched line beginning from a matched line</title></entry><entry><author><name>/u/Pure_Needleworker536</name><uri>https://www.reddit.com/user/Pure_Needleworker536</uri></author><category term="awk" label="r/awk"/><content type="html">&lt;!-- SC_OFF --&gt;&lt;div class=&quot;md&quot;&gt;&lt;p&gt;The relevant piece of awk code:&lt;/p&gt; &lt;pre&gt;&lt;code&gt;comm = n ? substr($0, m+1, n-m-1) : substr($0, m+1) jump = n ? substr($0, n+1) : 0 print comm printf(&amp;quot;comm %s; jump %s;\n&amp;quot;, comm, jump) &lt;/code&gt;&lt;/pre&gt; &lt;p&gt;yields the output&lt;/p&gt; &lt;pre&gt;&lt;code&gt;A ; jump 0 D+A ; jump 0 D jump 0 &lt;/code&gt;&lt;/pre&gt; &lt;p&gt;with both gawk and mawk. Why is the value of comm disappearing in between the print and printf statement? Why isn&amp;#39;t even the string literal &amp;quot;comm&amp;quot; within the printf argument being printed?&lt;/p&gt; &lt;p&gt;Entire code: &lt;a href=&quot;https://pastebin.com/hD6PGFrP&quot;&gt;https://pastebin.com/hD6PGFrP&lt;/a&gt;&lt;/p&gt; &lt;p&gt;Input file:&lt;/p&gt; &lt;pre&gt;&lt;code&gt;// This file is part of www.nand2tetris.org // and the book &amp;quot;The Elements of Computing Systems&amp;quot; // by Nisan and Schocken, MIT Press. // File name: projects/06/add/Add.asm // Computes R0 = 2 + 3 (R0 refers to RAM[0]) @2 D=A @3 D=D+A @0 M=D &lt;/code&gt;&lt;/pre&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=&quot;https://www.reddit.com/user/Pure_Needleworker536&quot;&gt; /u/Pure_Needleworker536 &lt;/a&gt; &lt;br/&gt; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/10ifqea/cant_figure_this_behavior_out/&quot;&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/10ifqea/cant_figure_this_behavior_out/&quot;&gt;[comments]&lt;/a&gt;&lt;/span&gt;</content><id>t3_10ifqea</id><link href="https://www.reddit.com/r/awk/comments/10ifqea/cant_figure_this_behavior_out/" /><updated>2023-01-22T09:27:03+00:00</updated><published>2023-01-22T09:27:03+00:00</published><title>Can't figure this behavior out</title></entry><entry><author><name>/u/tspier</name><uri>https://www.reddit.com/user/tspier</uri></author><category term="awk" label="r/awk"/><content type="html">&lt;!-- SC_OFF --&gt;&lt;div class=&quot;md&quot;&gt;&lt;p&gt;Hi, y&amp;#39;all! I have a file where answers to questions were recorded and are preceded by a number and a right parenthesis, e.g. &lt;em&gt;1)&lt;/em&gt; and &lt;em&gt;9)&lt;/em&gt;. What I&amp;#39;m trying to do is extract the number, the parenthesis, and the relevant information, i.e. any type of character that appears after the number and parenthesis BUT &lt;em&gt;before&lt;/em&gt; the next number and parenthesis. For instance, if I have a file with the following content and then run the subsequent AWK script, it shows everything between 1) and 3). What I want to do is show everything between 1) and 2). Thank you in advance for your help!&lt;/p&gt; &lt;pre&gt;&lt;code&gt;test.txt 1) good 2) bad 3) ok &lt;/code&gt;&lt;/pre&gt; &lt;p&gt;&amp;#x200B;&lt;/p&gt; &lt;pre&gt;&lt;code&gt;script.awk awk &amp;#39;/1\)/,/2\)/ { if ($0 ~ /1\)/) { p=1 } if (p) { print } if ($0 ~ /2\)/) { exit } }&amp;#39; test.txt &lt;/code&gt;&lt;/pre&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=&quot;https://www.reddit.com/user/tspier&quot;&gt; /u/tspier &lt;/a&gt; &lt;br/&gt; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/10hdvyt/splitting_a_file_and_extracting_text_between_two/&quot;&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/10hdvyt/splitting_a_file_and_extracting_text_between_two/&quot;&gt;[comments]&lt;/a&gt;&lt;/span&gt;</content><id>t3_10hdvyt</id><link href="https://www.reddit.com/r/awk/comments/10hdvyt/splitting_a_file_and_extracting_text_between_two/" /><updated>2023-01-21T00:26:30+00:00</updated><published>2023-01-21T00:26:30+00:00</published><title>Splitting a File and Extracting Text Between Two Strings</title></entry><entry><author><name>/u/rocket_186</name><uri>https://www.reddit.com/user/rocket_186</uri></author><category term="awk" label="r/awk"/><content type="html">&lt;!-- SC_OFF --&gt;&lt;div class=&quot;md&quot;&gt;&lt;p&gt;So the other day at work I was trying to extract data formatted like this:&lt;/p&gt; &lt;p&gt;{“5_1”; “3_1”; “2_1”;} (there was a lot more data than this spanning numerous lines, but this is all I cba typing out)&lt;/p&gt; &lt;p&gt;The output I wanted was: 532 &lt;/p&gt; &lt;p&gt;I managed to get awk to match but it would only match the first instance in every line. I tried Googling solutions but couldn’t find anything anywhere.&lt;/p&gt; &lt;p&gt;Is this not what AWK was built for? Am I missing something fundamental and simple? Please help as it now keeps me up at night. &lt;/p&gt; &lt;p&gt;Thanks in advance :)&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=&quot;https://www.reddit.com/user/rocket_186&quot;&gt; /u/rocket_186 &lt;/a&gt; &lt;br/&gt; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/zwdfmb/getting_multiple_nearidentical_matches_on_each/&quot;&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/zwdfmb/getting_multiple_nearidentical_matches_on_each/&quot;&gt;[comments]&lt;/a&gt;&lt;/span&gt;</content><id>t3_zwdfmb</id><link href="https://www.reddit.com/r/awk/comments/zwdfmb/getting_multiple_nearidentical_matches_on_each/" /><updated>2022-12-27T11:21:32+00:00</updated><published>2022-12-27T11:21:32+00:00</published><title>Getting multiple near-identical matches on each line</title></entry><entry><author><name>/u/AppleTreeBloom</name><uri>https://www.reddit.com/user/AppleTreeBloom</uri></author><category term="awk" label="r/awk"/><content type="html">&lt;!-- SC_OFF --&gt;&lt;div class=&quot;md&quot;&gt;&lt;p&gt;Tapping the hive mind here. I need to sort letters in a string. I’ve put the letters into an array using Split, sorted the areay using Asort, now I need the elements of the array put back into a string. This seems to be unreasonably difficult in gawk due to it’s undefined concatenation. Is there a method or function that solves this problem? Thanks!&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=&quot;https://www.reddit.com/user/AppleTreeBloom&quot;&gt; /u/AppleTreeBloom &lt;/a&gt; &lt;br/&gt; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/zrxpqp/any_way_to_reliably_concatenate_the_elements_of/&quot;&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/zrxpqp/any_way_to_reliably_concatenate_the_elements_of/&quot;&gt;[comments]&lt;/a&gt;&lt;/span&gt;</content><id>t3_zrxpqp</id><link href="https://www.reddit.com/r/awk/comments/zrxpqp/any_way_to_reliably_concatenate_the_elements_of/" /><updated>2022-12-21T19:07:18+00:00</updated><published>2022-12-21T19:07:18+00:00</published><title>Any way to reliably concatenate the elements of an array back into a string using gawk?</title></entry><entry><author><name>/u/JMP800</name><uri>https://www.reddit.com/user/JMP800</uri></author><category term="awk" label="r/awk"/><content type="html">&lt;!-- SC_OFF --&gt;&lt;div class=&quot;md&quot;&gt;&lt;p&gt;Looking to find options on how to split a &amp;quot;.tsv&amp;quot; file&amp;#39;s field variable to an array.&lt;/p&gt; &lt;p&gt;I would like to keep it POSIX compliant if possible. (Using mawk 1.3.4 20200120)&lt;/p&gt; &lt;p&gt;Would prefer to use the built-in split() function since it gives incremental integer indexes.&lt;/p&gt; &lt;p&gt;These are the methods I tried. Only the last one works in an example script below.&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;p&gt;array[$2];&lt;/p&gt;&lt;/li&gt; &lt;li&gt;&lt;p&gt;split($2, array. &amp;quot;\n&amp;quot;);&lt;/p&gt;&lt;/li&gt; &lt;li&gt;&lt;p&gt;string = sprintf(&amp;quot;%s &amp;quot;, $2); WITH split(string, array, &amp;quot; &amp;quot;);&lt;/p&gt;&lt;/li&gt; &lt;li&gt;&lt;p&gt;printf(%s &amp;quot;, $2) &amp;gt; &amp;quot;field.tmp&amp;quot;; WITH split(file, array, &amp;quot; &amp;quot;);&lt;/p&gt;&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;*&lt;/p&gt; &lt;pre&gt;&lt;code&gt;#!/usr/bin/awk -f NR &amp;gt; 1 { #SAVE FIELD AS 1-LINE FILE printf(&amp;quot;%s &amp;quot;, $2) &amp;gt; &amp;quot;/tmp/field.tmp&amp;quot;; } END { #ASSIGN PATH VARIABLE path = &amp;quot;/tmp/field.tmp&amp;quot;; fflush(path); #SPLIT 1-LINE FILE INTO ARRAY while ((getline file &amp;lt; path) &amp;gt; 0) { split(file, array, &amp;quot; &amp;quot;); }; close(path); #PRINT TO STDOUT TO CONFIRM for (i in array) { printf(&amp;quot;Index %d is %s\n&amp;quot;, i, array[i]); } } &lt;/code&gt;&lt;/pre&gt; &lt;p&gt;Any help would be awesome :) I did notice that POSIX awk supports regex in the split function but no luck.&lt;/p&gt; &lt;p&gt;POSIX: (&lt;a href=&quot;https://pubs.opengroup.org/onlinepubs/9699919799/utilities/awk.html&quot;&gt;https://pubs.opengroup.org/onlinepubs/9699919799/utilities/awk.html&lt;/a&gt;)&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=&quot;https://www.reddit.com/user/JMP800&quot;&gt; /u/JMP800 &lt;/a&gt; &lt;br/&gt; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/zrwz1f/how_to_split_a_field_variable_ex_2_to_an_array/&quot;&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/zrwz1f/how_to_split_a_field_variable_ex_2_to_an_array/&quot;&gt;[comments]&lt;/a&gt;&lt;/span&gt;</content><id>t3_zrwz1f</id><link href="https://www.reddit.com/r/awk/comments/zrwz1f/how_to_split_a_field_variable_ex_2_to_an_array/" /><updated>2022-12-21T18:40:03+00:00</updated><published>2022-12-21T18:40:03+00:00</published><title>How to split() a field variable (ex. $2) to an array?</title></entry><entry><author><name>/u/International_Pea500</name><uri>https://www.reddit.com/user/International_Pea500</uri></author><category term="awk" label="r/awk"/><content type="html">&lt;!-- SC_OFF --&gt;&lt;div class=&quot;md&quot;&gt;&lt;p&gt;Hi all. Can&amp;#39;t get my brain around how to convert some netflow data into influxdb format via awk. &lt;/p&gt; &lt;p&gt;Have data, looks like&lt;/p&gt; &lt;p&gt;csv , columns , for , useful , data , 2022-12-15 12:24:15.410 &lt;/p&gt; &lt;p&gt;I&amp;#39;m currently breaking this data up with a while loop and IFS delimiter *but* there are so many lines of data that this ends up being a very slow process. &lt;/p&gt; &lt;p&gt;I&amp;#39;m pretty sure an inline awk would do this much faster, but I need a little help in execution. &lt;/p&gt; &lt;p&gt;unixtimestamp=`date -d &amp;quot;2022-12-15 12:24:15.410&amp;quot; +&amp;quot;%s&amp;quot;` + 000 is what I need for influxdb. &lt;/p&gt; &lt;p&gt;And advice on how to take that data column in the csv and replace it with the computed unix timestamp plus 3 zeros? All other columns we go untouched.&lt;/p&gt; &lt;p&gt;&amp;#x200B;&lt;/p&gt; &lt;p&gt;Thanks.&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=&quot;https://www.reddit.com/user/International_Pea500&quot;&gt; /u/International_Pea500 &lt;/a&gt; &lt;br/&gt; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/zp9f01/awk_to_convert_a_txt_date_to_unix_timestamp/&quot;&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/zp9f01/awk_to_convert_a_txt_date_to_unix_timestamp/&quot;&gt;[comments]&lt;/a&gt;&lt;/span&gt;</content><id>t3_zp9f01</id><link href="https://www.reddit.com/r/awk/comments/zp9f01/awk_to_convert_a_txt_date_to_unix_timestamp/" /><updated>2022-12-18T21:50:01+00:00</updated><published>2022-12-18T21:50:01+00:00</published><title>awk to convert a txt date to unix timestamp?</title></entry><entry><author><name>/u/Automatic-Ad-9530</name><uri>https://www.reddit.com/user/Automatic-Ad-9530</uri></author><category term="awk" label="r/awk"/><content type="html">&lt;!-- SC_OFF --&gt;&lt;div class=&quot;md&quot;&gt;&lt;p&gt;&amp;#x200B;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;https://preview.redd.it/jba6yf9mak6a1.png?width=546&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=ed206487fecb222bf52eab16f17fbca45fcf2f06&quot;&gt;data&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&amp;#x200B;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;https://preview.redd.it/p2yu2pxnak6a1.png?width=798&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=11a29a440fe1ab90cf5f262d0a8e66c175df68bf&quot;&gt;the script&lt;/a&gt;&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=&quot;https://www.reddit.com/user/Automatic-Ad-9530&quot;&gt; /u/Automatic-Ad-9530 &lt;/a&gt; &lt;br/&gt; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/zoms6x/chatgpt_playing_awk_giving_the_correct_result_in/&quot;&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/zoms6x/chatgpt_playing_awk_giving_the_correct_result_in/&quot;&gt;[comments]&lt;/a&gt;&lt;/span&gt;</content><id>t3_zoms6x</id><link href="https://www.reddit.com/r/awk/comments/zoms6x/chatgpt_playing_awk_giving_the_correct_result_in/" /><updated>2022-12-18T01:46:43+00:00</updated><published>2022-12-18T01:46:43+00:00</published><title>ChatGPT playing awk. Giving the correct result in first attempt.</title></entry><entry><author><name>/u/ctenolophon</name><uri>https://www.reddit.com/user/ctenolophon</uri></author><category term="awk" label="r/awk"/><content type="html">&lt;!-- SC_OFF --&gt;&lt;div class=&quot;md&quot;&gt;&lt;p&gt;I&amp;#39;m learning about using logical operators in short-circuit statements, outside of logical tests. (Been using Awk for years, but these are new to me.) I noticed that parenthesizing sub-statements is vital if you want the whole statement to work as expected. But I&amp;#39;m not sure why, or how this works. For example:&lt;/p&gt; &lt;pre&gt;&lt;code&gt;BEGIN{ i = 0 ; i+=1 &amp;amp;&amp;amp; i+=10 &amp;amp;&amp;amp; i+=100 ; print &amp;quot;___ &amp;quot; i # 102 i = 0 ; i+=1 &amp;amp;&amp;amp; i+=10 &amp;amp;&amp;amp; (i+=100) ; print &amp;quot;__p &amp;quot; i # 102 i = 0 ; i+=1 &amp;amp;&amp;amp; (i+=10) &amp;amp;&amp;amp; i+=100 ; print &amp;quot;_p_ &amp;quot; i # 111 i = 0 ; i+=1 &amp;amp;&amp;amp; (i+=10) &amp;amp;&amp;amp; (i+=100) ; print &amp;quot;_pp &amp;quot; i # 111 i = 0 ; (i+=1) &amp;amp;&amp;amp; i+=10 &amp;amp;&amp;amp; i+=100 ; print &amp;quot;p__ &amp;quot; i # 102 i = 0 ; (i+=1) &amp;amp;&amp;amp; i+=10 &amp;amp;&amp;amp; (i+=100) ; print &amp;quot;p_p &amp;quot; i # 102 i = 0 ; (i+=1) &amp;amp;&amp;amp; (i+=10) &amp;amp;&amp;amp; i+=100 ; print &amp;quot;pp_ &amp;quot; i # 111 i = 0 ; (i+=1) &amp;amp;&amp;amp; (i+=10) &amp;amp;&amp;amp; (i+=100) ; print &amp;quot;ppp &amp;quot; i # 111 } &lt;/code&gt;&lt;/pre&gt; &lt;p&gt;Only when the middle sub-statement is parenthesized do you get the expected result of 111. If it is not parenthesized you get 102, suggesting the first statement gets evaluated twice, and the last once. Anyone know why? Something to do with the Awk parser?&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=&quot;https://www.reddit.com/user/ctenolophon&quot;&gt; /u/ctenolophon &lt;/a&gt; &lt;br/&gt; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/zl5ofa/parentheses_in_shortcircuit_statements/&quot;&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/zl5ofa/parentheses_in_shortcircuit_statements/&quot;&gt;[comments]&lt;/a&gt;&lt;/span&gt;</content><id>t3_zl5ofa</id><link href="https://www.reddit.com/r/awk/comments/zl5ofa/parentheses_in_shortcircuit_statements/" /><updated>2022-12-13T20:16:10+00:00</updated><published>2022-12-13T20:16:10+00:00</published><title>Parentheses in short-circuit statements</title></entry><entry><author><name>/u/Usually-Mistaken</name><uri>https://www.reddit.com/user/Usually-Mistaken</uri></author><category term="awk" label="r/awk"/><content type="html">&lt;!-- SC_OFF --&gt;&lt;div class=&quot;md&quot;&gt;&lt;p&gt;awk &amp;#39;/VM_pool|&amp;lt;name&amp;gt;/ { gsub(/&amp;lt;|&amp;gt;|\047/,&amp;quot; &amp;quot;); print $(NF-1) }&amp;#39; $path&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=&quot;https://www.reddit.com/user/Usually-Mistaken&quot;&gt; /u/Usually-Mistaken &lt;/a&gt; &lt;br/&gt; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/za5o2e/newb_here_is_this_messy/&quot;&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/za5o2e/newb_here_is_this_messy/&quot;&gt;[comments]&lt;/a&gt;&lt;/span&gt;</content><id>t3_za5o2e</id><link href="https://www.reddit.com/r/awk/comments/za5o2e/newb_here_is_this_messy/" /><updated>2022-12-02T00:39:26+00:00</updated><published>2022-12-02T00:39:26+00:00</published><title>Newb here, is this messy?</title></entry><entry><author><name>/u/Mark_1802</name><uri>https://www.reddit.com/user/Mark_1802</uri></author><category term="awk" label="r/awk"/><content type="html">&lt;!-- SC_OFF --&gt;&lt;div class=&quot;md&quot;&gt;&lt;p&gt;I am using awk to look for a pattern inside a line and change the way it&amp;#39;s shown. It aims those lines which have at least three occurrences of &lt;code&gt;nvl(&lt;/code&gt; or one occurrence of four trailing open parenthesis &lt;code&gt;(&lt;/code&gt; &lt;/p&gt; &lt;pre&gt;&lt;code&gt;awk &amp;#39; { if (tolower($0) ~ /(.*nvl\(){3}/ || $0 ~ /\({4}/) { print &amp;quot;/*&amp;quot; , $0 , &amp;quot;*/&amp;quot; } else { print $0 } }&amp;#39; teste.txt &lt;/code&gt;&lt;/pre&gt; &lt;p&gt;If matched, this line is surrounded with &lt;code&gt;/**/&lt;/code&gt;. It works fine. However, I&amp;#39;d like to make the changes in the file itself, just like the &lt;code&gt;sed -i&lt;/code&gt; option makes.&lt;/p&gt; &lt;p&gt;Does &lt;code&gt;awk&lt;/code&gt; have a mechanism to save the changes made in the same file?&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=&quot;https://www.reddit.com/user/Mark_1802&quot;&gt; /u/Mark_1802 &lt;/a&gt; &lt;br/&gt; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/z2qywt/save_the_changes_in_the_same_file/&quot;&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/z2qywt/save_the_changes_in_the_same_file/&quot;&gt;[comments]&lt;/a&gt;&lt;/span&gt;</content><id>t3_z2qywt</id><link href="https://www.reddit.com/r/awk/comments/z2qywt/save_the_changes_in_the_same_file/" /><updated>2022-11-23T14:46:30+00:00</updated><published>2022-11-23T14:46:30+00:00</published><title>Save the changes in the same file</title></entry><entry><author><name>/u/elnanoml</name><uri>https://www.reddit.com/user/elnanoml</uri></author><category term="awk" label="r/awk"/><content type="html">&amp;#32; submitted by &amp;#32; &lt;a href=&quot;https://www.reddit.com/user/elnanoml&quot;&gt; /u/elnanoml &lt;/a&gt; &lt;br/&gt; &lt;span&gt;&lt;a href=&quot;/r/regex/comments/z0c6gu/find_2_words_before_a_certain_character_appears/&quot;&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/z0cay9/is_there_a_way_to_do_this_with_awk_using_regex_or/&quot;&gt;[comments]&lt;/a&gt;&lt;/span&gt;</content><id>t3_z0cay9</id><link href="https://www.reddit.com/r/awk/comments/z0cay9/is_there_a_way_to_do_this_with_awk_using_regex_or/" /><updated>2022-11-20T19:05:58+00:00</updated><published>2022-11-20T19:05:58+00:00</published><title>Is there a way to do this with awk (using regex or with another alternative)</title></entry><entry><author><name>/u/RyzenRaider</name><uri>https://www.reddit.com/user/RyzenRaider</uri></author><category term="awk" label="r/awk"/><content type="html">&lt;!-- SC_OFF --&gt;&lt;div class=&quot;md&quot;&gt;&lt;p&gt;Hi everyone. Newly discovered awk and enjoying the learning process and getting stuck on an attempt to Capitalize Every First Letter. I have seen a variety of solutions using a for loop to step through each character in a string, but I can&amp;#39;t help but feel gsub() should be able to do this. However, I&amp;#39;m struggling to find the appropriate escapes.&lt;/p&gt; &lt;p&gt;Below is a pattern that works in sed for my use case. I don&amp;#39;t want to use sed for this task because it&amp;#39;s in the middle of the awk script and would rather not pipe out then back in. And I also want to learn proper escaping from this example (for me, I&amp;#39;m usually randomly trying until I get the result I want).&lt;/p&gt; &lt;pre&gt;&lt;code&gt;echo &amp;quot;hi. [hello,world]who be ye&amp;quot; | sed &amp;#39;s/[^a-z][a-z]/\U&amp;amp;/g&amp;#39; Hi. [Hello,World]Who Be Ye &lt;/code&gt;&lt;/pre&gt; &lt;p&gt;Pattern is to upper case any letter that is not preceded by a letter, and it works as I want. So how does one go about implementing this substitution &lt;code&gt;s/[^a-z][a-z]/\U&amp;amp;/g&lt;/code&gt; in awk? Below is the current setup, but fighting the esxape slashes. Below correctly identifies the letters I want to capitalize, it&amp;#39;s just working out the replacement pattern.&lt;/p&gt; &lt;pre&gt;&lt;code&gt;gsub(/[^a-z][a-z]/,&amp;quot; X&amp;quot;,string) &lt;/code&gt;&lt;/pre&gt; &lt;p&gt;Any guidance would be appreciated :) Thanks.&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=&quot;https://www.reddit.com/user/RyzenRaider&quot;&gt; /u/RyzenRaider &lt;/a&gt; &lt;br/&gt; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/yzeui1/capitalizing_words_in_awk/&quot;&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/yzeui1/capitalizing_words_in_awk/&quot;&gt;[comments]&lt;/a&gt;&lt;/span&gt;</content><id>t3_yzeui1</id><link href="https://www.reddit.com/r/awk/comments/yzeui1/capitalizing_words_in_awk/" /><updated>2022-11-19T15:47:26+00:00</updated><published>2022-11-19T15:47:26+00:00</published><title>Capitalizing words in awk</title></entry><entry><author><name>/u/AppleTreeBloom</name><uri>https://www.reddit.com/user/AppleTreeBloom</uri></author><category term="awk" label="r/awk"/><content type="html">&lt;!-- SC_OFF --&gt;&lt;div class=&quot;md&quot;&gt;&lt;p&gt;Does anyone have an online awk simulator to recommend? Trying to teach myself awk for a project. Thank you!&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=&quot;https://www.reddit.com/user/AppleTreeBloom&quot;&gt; /u/AppleTreeBloom &lt;/a&gt; &lt;br/&gt; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/yynhaq/newbie_question_online_awk_simulator/&quot;&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/yynhaq/newbie_question_online_awk_simulator/&quot;&gt;[comments]&lt;/a&gt;&lt;/span&gt;</content><id>t3_yynhaq</id><link href="https://www.reddit.com/r/awk/comments/yynhaq/newbie_question_online_awk_simulator/" /><updated>2022-11-18T15:59:28+00:00</updated><published>2022-11-18T15:59:28+00:00</published><title>Newbie question: online awk simulator?</title></entry><entry><author><name>/u/breck</name><uri>https://www.reddit.com/user/breck</uri></author><category term="awk" label="r/awk"/><content type="html">&amp;#32; submitted by &amp;#32; &lt;a href=&quot;https://www.reddit.com/user/breck&quot;&gt; /u/breck &lt;/a&gt; &lt;br/&gt; &lt;span&gt;&lt;a href=&quot;https://pldb.com/posts/brianKernighan.html&quot;&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/ywfneh/a_brief_interview_with_awk_creator_dr_brian/&quot;&gt;[comments]&lt;/a&gt;&lt;/span&gt;</content><id>t3_ywfneh</id><link href="https://www.reddit.com/r/awk/comments/ywfneh/a_brief_interview_with_awk_creator_dr_brian/" /><updated>2022-11-16T01:22:21+00:00</updated><published>2022-11-16T01:22:21+00:00</published><title>A brief interview with AWK creator Dr. Brian Kernighan</title></entry><entry><author><name>/u/tje210</name><uri>https://www.reddit.com/user/tje210</uri></author><category term="awk" label="r/awk"/><content type="html">&lt;!-- SC_OFF --&gt;&lt;div class=&quot;md&quot;&gt;&lt;p&gt;I have a text file, formatted&lt;/p&gt; &lt;p&gt;A [tab] 1,2,3... (Varying number of fields) [tab] 1,2,3... (Varying number of fields)&lt;/p&gt; &lt;p&gt;B [tab] 1,2,3... (Varying number of fields) [tab] 1,2,3... (Varying number of fields&lt;/p&gt; &lt;p&gt;C [tab] 1,2,3... (Varying number of fields) [tab] 1,2,3... (Varying number of fields ... [20k lines]&lt;/p&gt; &lt;p&gt;The first field is an IP address, the second column is a varying number of IPs, the third column is the same number of different IPs.&lt;/p&gt; &lt;p&gt;I want to separate everything out so I get&lt;/p&gt; &lt;p&gt;A 1 1&lt;/p&gt; &lt;p&gt;A 2 2&lt;/p&gt; &lt;p&gt;A 3 3&lt;/p&gt; &lt;p&gt;...&lt;/p&gt; &lt;p&gt;B 1 1&lt;/p&gt; &lt;p&gt;B 2 2&lt;/p&gt; &lt;p&gt;...&lt;/p&gt; &lt;p&gt;basically turning 20k lines into 200k+. The second and third columns have 1 - 20 comma-separated fields.&lt;/p&gt; &lt;p&gt;Thinking about constructing this, I&amp;#39;d go&lt;/p&gt; &lt;p&gt;while read p; do&lt;/p&gt; &lt;p&gt;fields=(Count number of fields in second column)&lt;/p&gt; &lt;p&gt;for i in 1..$fields; do&lt;/p&gt; &lt;pre&gt;&lt;code&gt; IP=$(cat $p | awk &amp;#39;{print $1}&amp;#39;) Srcaddr=$(cat $p | [awk to get $i&amp;#39;th value in second column]) Dstaddr=$(cat $p | [awk to get $i&amp;#39;th value in third column]) echo $IP $Srcaddr $Dstaddr &amp;gt;&amp;gt; outfile done &lt;/code&gt;&lt;/pre&gt; &lt;p&gt;done&lt;/p&gt; &lt;p&gt;That actually doesn&amp;#39;t look too bad for a first pass. The term in lines 5 and 6 will take a little work, figure I&amp;#39;ll get the second and third fields respectively, then do another awk using $i and FS=, to get the appropriate fields from those columns.&lt;/p&gt; &lt;p&gt;Any tips for doing this better? I feel like what I wrote out above will get me there but it feels pretty graceless, and I&amp;#39;d love to learn some new things.&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=&quot;https://www.reddit.com/user/tje210&quot;&gt; /u/tje210 &lt;/a&gt; &lt;br/&gt; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/yscst6/reshape_existing_data/&quot;&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/yscst6/reshape_existing_data/&quot;&gt;[comments]&lt;/a&gt;&lt;/span&gt;</content><id>t3_yscst6</id><link href="https://www.reddit.com/r/awk/comments/yscst6/reshape_existing_data/" /><updated>2022-11-11T14:55:24+00:00</updated><published>2022-11-11T14:55:24+00:00</published><title>Reshape existing data</title></entry><entry><author><name>/u/batman_9326</name><uri>https://www.reddit.com/user/batman_9326</uri></author><category term="awk" label="r/awk"/><content type="html">&lt;!-- SC_OFF --&gt;&lt;div class=&quot;md&quot;&gt;&lt;p&gt;I am trying to convert us-east-1 into ue1. I spent over some time but couldn’t figure out the right way to do it.&lt;/p&gt; &lt;p&gt;Can someone please help me out?&lt;/p&gt; &lt;p&gt;Edit: Thanks everyone for the input. I am going with the below one-liner. echo us-east-1 | awk -vRS=- &amp;#39;{printf substr($0,1,1)}&amp;#39;&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=&quot;https://www.reddit.com/user/batman_9326&quot;&gt; /u/batman_9326 &lt;/a&gt; &lt;br/&gt; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/ykf0yr/split_a_string_with_a_delimiter_and_print_first/&quot;&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/ykf0yr/split_a_string_with_a_delimiter_and_print_first/&quot;&gt;[comments]&lt;/a&gt;&lt;/span&gt;</content><id>t3_ykf0yr</id><link href="https://www.reddit.com/r/awk/comments/ykf0yr/split_a_string_with_a_delimiter_and_print_first/" /><updated>2022-11-02T19:45:52+00:00</updated><published>2022-11-02T19:45:52+00:00</published><title>Split a string with a delimiter and print first character</title></entry><entry><author><name>/u/Hectic-Skeptic</name><uri>https://www.reddit.com/user/Hectic-Skeptic</uri></author><category term="awk" label="r/awk"/><content type="html">&lt;!-- SC_OFF --&gt;&lt;div class=&quot;md&quot;&gt;&lt;p&gt;I have a small Budgeting program going, and want to categorize items on a bank statement. I learned the absolute basics of AWK to combine multiple statement CSVs into one big CSV for the month or quarter. Since I am often getting groceries ect, I would like to knock off a good percentage of the categorizing with the use of matching against a lookup file. &lt;/p&gt; &lt;p&gt;Is there a straight forward way in AWK for every field on a record in a csv, run through an entire lookup table matching the keyword in the lookup table to the field in the CSV?&lt;/p&gt; &lt;h1&gt;Dummy Tables&lt;/h1&gt; &lt;h2&gt;statement.csv:&lt;/h2&gt; &lt;table&gt;&lt;thead&gt; &lt;tr&gt; &lt;th align=&quot;left&quot;&gt;Date&lt;/th&gt; &lt;th align=&quot;left&quot;&gt;Description&lt;/th&gt; &lt;th align=&quot;left&quot;&gt;Amount&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt;&lt;tbody&gt; &lt;tr&gt; &lt;td align=&quot;left&quot;&gt;10/20/2022&lt;/td&gt; &lt;td align=&quot;left&quot;&gt;TRADER JOE&amp;#39;S CHICAGO IL&lt;/td&gt; &lt;td align=&quot;left&quot;&gt;24.85&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td align=&quot;left&quot;&gt;10/21/2022&lt;/td&gt; &lt;td align=&quot;left&quot;&gt;SHELL GAS #1234&lt;/td&gt; &lt;td align=&quot;left&quot;&gt;50.35&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td align=&quot;left&quot;&gt;10/21/2022&lt;/td&gt; &lt;td align=&quot;left&quot;&gt;Goldies Pub&lt;/td&gt; &lt;td align=&quot;left&quot;&gt;10.15&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td align=&quot;left&quot;&gt;10/22/2022&lt;/td&gt; &lt;td align=&quot;left&quot;&gt;Dunkin Donuts&lt;/td&gt; &lt;td align=&quot;left&quot;&gt;5.00&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; &lt;h2&gt;KeywordToCategory:&lt;/h2&gt; &lt;table&gt;&lt;thead&gt; &lt;tr&gt; &lt;th align=&quot;left&quot;&gt;Keyword&lt;/th&gt; &lt;th align=&quot;left&quot;&gt;Category&lt;/th&gt; &lt;th align=&quot;left&quot;&gt;&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt;&lt;tbody&gt; &lt;tr&gt; &lt;td align=&quot;left&quot;&gt;Shell&lt;/td&gt; &lt;td align=&quot;left&quot;&gt;Automotive&lt;/td&gt; &lt;td align=&quot;left&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td align=&quot;left&quot;&gt;Trader Joe&lt;/td&gt; &lt;td align=&quot;left&quot;&gt;Grocery&lt;/td&gt; &lt;td align=&quot;left&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td align=&quot;left&quot;&gt;Goldie&lt;/td&gt; &lt;td align=&quot;left&quot;&gt;Entertainment&lt;/td&gt; &lt;td align=&quot;left&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; &lt;p&gt;Thanks and I really appreciate the help!&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=&quot;https://www.reddit.com/user/Hectic-Skeptic&quot;&gt; /u/Hectic-Skeptic &lt;/a&gt; &lt;br/&gt; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/yhzq1p/newbie_question_matching_substring_to_field/&quot;&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/yhzq1p/newbie_question_matching_substring_to_field/&quot;&gt;[comments]&lt;/a&gt;&lt;/span&gt;</content><id>t3_yhzq1p</id><link href="https://www.reddit.com/r/awk/comments/yhzq1p/newbie_question_matching_substring_to_field/" /><updated>2022-10-31T03:39:11+00:00</updated><published>2022-10-31T03:39:11+00:00</published><title>Newbie Question: Matching sub-string to field?</title></entry><entry><author><name>/u/LeadershipComplex958</name><uri>https://www.reddit.com/user/LeadershipComplex958</uri></author><category term="awk" label="r/awk"/><content type="html">&lt;!-- SC_OFF --&gt;&lt;div class=&quot;md&quot;&gt;&lt;p&gt;awk &amp;#39;($6&amp;gt;max) &amp;amp;&amp;amp; ($4!=&amp;quot;AZ&amp;quot;) {max = $6; line = $0}END{print line}&amp;#39; foo.txt&lt;/p&gt; &lt;p&gt;Whenever field #6 contains negative numbers, it doesn&amp;#39;t correctly return the line that has the highest number in field 6.&lt;/p&gt; &lt;p&gt;The goal is to for example in the following file contents:&lt;/p&gt; &lt;p&gt;///////////////////////////////&lt;/p&gt; &lt;p&gt;Shellstrop Eleanor Phoenix AZ 85023 -2920765&lt;/p&gt; &lt;p&gt;Shellstrop Donna Tarantula_Springs NV 89047 -5920765&lt;/p&gt; &lt;p&gt;Mendoza Jason Jacksonville FL 32205 -4123794&lt;/p&gt; &lt;p&gt;Mendoza Douglas Jacksonville FL 32209 -3193274 (Donkey Doug)&lt;/p&gt; &lt;p&gt;Peleaz Steven Jacksonville FL 32203 -3123794 (Pillboi)&lt;/p&gt; &lt;p&gt;/////////////////////////////////// &lt;/p&gt; &lt;p&gt;goal is to return the line containing Peleaz. (It wouldn&amp;#39;t be Shellstrop Eleanor as she lives in AZ.)&lt;/p&gt; &lt;p&gt;This works as required for positive numbers but not negative. Or there could be some completely different bug Im missing. Im very new to awk.&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=&quot;https://www.reddit.com/user/LeadershipComplex958&quot;&gt; /u/LeadershipComplex958 &lt;/a&gt; &lt;br/&gt; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/yfjlzb/why_is_this_codecommand_not_working_for_negative/&quot;&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/yfjlzb/why_is_this_codecommand_not_working_for_negative/&quot;&gt;[comments]&lt;/a&gt;&lt;/span&gt;</content><id>t3_yfjlzb</id><link href="https://www.reddit.com/r/awk/comments/yfjlzb/why_is_this_codecommand_not_working_for_negative/" /><updated>2022-10-28T09:38:14+00:00</updated><published>2022-10-28T09:38:14+00:00</published><title>Why is this code/command not working for negative numbers?</title></entry><entry><author><name>/u/LeadershipComplex958</name><uri>https://www.reddit.com/user/LeadershipComplex958</uri></author><category term="awk" label="r/awk"/><content type="html">&lt;!-- SC_OFF --&gt;&lt;div class=&quot;md&quot;&gt;&lt;p&gt;&amp;#x200B;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;https://preview.redd.it/l0cnu6v7mgv91.png?width=333&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=9db4aed991dd62f1eb0e7eefd37ccc34a2dc0f7f&quot;&gt;https://preview.redd.it/l0cnu6v7mgv91.png?width=333&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=9db4aed991dd62f1eb0e7eefd37ccc34a2dc0f7f&lt;/a&gt;&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=&quot;https://www.reddit.com/user/LeadershipComplex958&quot;&gt; /u/LeadershipComplex958 &lt;/a&gt; &lt;br/&gt; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/yb4p5f/does_each_statement_inside_the_brackets_always/&quot;&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/yb4p5f/does_each_statement_inside_the_brackets_always/&quot;&gt;[comments]&lt;/a&gt;&lt;/span&gt;</content><id>t3_yb4p5f</id><link href="https://www.reddit.com/r/awk/comments/yb4p5f/does_each_statement_inside_the_brackets_always/" /><updated>2022-10-23T01:40:51+00:00</updated><published>2022-10-23T01:40:51+00:00</published><title>Does each statement inside the brackets always execute repeatedly? Even though the average only needs to be set once. How do you know that it does it repeatedly? Super noob question.</title></entry><entry><category term="awk" label="r/awk"/><content type="html">&lt;!-- SC_OFF --&gt;&lt;div class=&quot;md&quot;&gt;&lt;p&gt;Im developing a script in awk to convert a tex document into html, according to my preferences.&lt;/p&gt; &lt;p&gt;```&lt;/p&gt; &lt;h1&gt;!/bin/awk -f&lt;/h1&gt; &lt;p&gt;BEGIN { FS=&amp;quot;\n&amp;quot;; print &amp;quot;&amp;lt;html&amp;gt;&amp;lt;body&amp;gt;&amp;quot; }&lt;/p&gt; &lt;h1&gt;Function to print a row with one argument to handle either a &amp;#39;th&amp;#39; tag or &amp;#39;td&amp;#39; tag&lt;/h1&gt; &lt;p&gt;function printRow(tag) { for(i=1; i&amp;lt;=NF; i++) print &amp;quot;&amp;lt;&amp;quot;tag&amp;quot;&amp;gt;&amp;quot;$i&amp;quot;&amp;lt;/&amp;quot;tag&amp;quot;&amp;gt;&amp;quot;; }&lt;/p&gt; &lt;p&gt;NR&amp;gt;1 { [conditions] printRow(&amp;quot;p&amp;quot;) }&lt;/p&gt; &lt;p&gt;END { print &amp;quot;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;&amp;quot; } ```&lt;/p&gt; &lt;p&gt;Its in a very young stage of development, as seen. &lt;/p&gt; &lt;p&gt;``` \documentclass[a4paper, 11pt, titlepage]{article} \usepackage{fancyhdr} \usepackage{graphicx} \usepackage{imakeidx} [...]&lt;/p&gt; &lt;p&gt;\begin{document}&lt;/p&gt; &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla placerat lectus sit amet augue facilisis, eget viverra sem pellentesque. Nulla vehicula metus risus, vel condimentum nunc dignissim eget. Vivamus quis sagittis tellus, eget ullamcorper libero. Nulla vitae fringilla nunc. Vivamus id suscipit mi. Phasellus porta lacinia dolor, at congue eros rhoncus vitae. Donec vel condimentum sapien. Curabitur est massa, finibus vel iaculis id, dignissim nec nisl. Sed non justo orci. Morbi quis orci efficitur sem porttitor pulvinar. Duis consectetur rhoncus posuere. Duis cursus neque semper lectus fermentum rhoncus.&lt;/p&gt; &lt;p&gt;\end{document} ```&lt;/p&gt; &lt;p&gt;What I want, is that the script only interprets the lines that are between &lt;code&gt;\begin{document}&lt;/code&gt; and &lt;code&gt;\end{document}&lt;/code&gt;, since before they are imports of libraries, variables, etc; which at the moment do not interest me.&lt;/p&gt; &lt;p&gt;How do I make it so that it only processes the text within that pattern?&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &lt;br/&gt; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/y9qs93/processing_a_specific_part_of_a_text_according_to/&quot;&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/y9qs93/processing_a_specific_part_of_a_text_according_to/&quot;&gt;[comments]&lt;/a&gt;&lt;/span&gt;</content><id>t3_y9qs93</id><link href="https://www.reddit.com/r/awk/comments/y9qs93/processing_a_specific_part_of_a_text_according_to/" /><updated>2022-10-21T11:04:19+00:00</updated><published>2022-10-21T11:04:19+00:00</published><title>Processing a specific part of a text according to pattern from AWK script</title></entry><entry><author><name>/u/Gold-Ad-5257</name><uri>https://www.reddit.com/user/Gold-Ad-5257</uri></author><category term="awk" label="r/awk"/><content type="html">&lt;!-- SC_OFF --&gt;&lt;div class=&quot;md&quot;&gt;&lt;p&gt;I&amp;#39;ve seen some people say AWk don&amp;#39;t really use ranges. &lt;/p&gt; &lt;p&gt;I have an input plain text file that I would like to convert to CSV using awk. &lt;/p&gt; &lt;p&gt;the problem is my last part of the record, where I want to preserve the input fields and not separate them with a delimiter, and This is pretty much a free format field(description) which can therefore contain say up to N random nr of words, which I would like to output as a single field.&lt;/p&gt; &lt;p&gt;given the input as an example &lt;/p&gt; &lt;p&gt;DATE TIME USERID NAME SURNAME SU-ID DESCRIPTION&lt;/p&gt; &lt;pre&gt;&lt;code&gt;10SEP22 17:26 UID01 John Wick root TEST 10SEP22 17:30 UID110 Bat Man DBusr Rerun Backup. 10SEP22 23:02 UID02 Peter Parker admin COPY FILE &amp;amp; EDIT DATE &lt;/code&gt;&lt;/pre&gt; &lt;p&gt;As can be seen after the 6th field I would like to specify the rest as a single field and there can be N words present until the end of the line. &lt;/p&gt; &lt;p&gt;So currently I have this, &lt;/p&gt; &lt;pre&gt;&lt;code&gt;$awk &amp;#39;{print $1 &amp;quot;,&amp;quot; $2 &amp;quot;,&amp;quot; $3 &amp;quot;,&amp;quot; $4 &amp;quot; &amp;quot; $5 &amp;quot;,&amp;quot; $6 &amp;quot;,&amp;quot; $7}&amp;#39; &lt;/code&gt;&lt;/pre&gt; &lt;p&gt;and the output is this : &lt;/p&gt; &lt;pre&gt;&lt;code&gt;10SEP22,17:26,UID01,John Wick,root,TEST 10SEP22,17:30,UID110,Bat Man,DBusr,Rerun 10SEP22,23:02,UID02,Peter Parker,admin,COPY &lt;/code&gt;&lt;/pre&gt; &lt;p&gt;It obviously cuts off after field 7 and only works if there is a single word in the description. Note I am also trying to keep the name and surname as a single field, hence separated by a space, not a comma. &lt;/p&gt; &lt;p&gt;I would like to get something like this to work in place of $7 above, while everything else($1 - 6) as per above still remains(on its own this works fine for my requirement) :&lt;/p&gt; &lt;pre&gt;&lt;code&gt;awk {&amp;#39;{i = 14} {while (i &amp;lt;= NF) {print $i ; i++}}&amp;#39;} &lt;/code&gt;&lt;/pre&gt; &lt;p&gt;that way the output should be :&lt;/p&gt; &lt;pre&gt;&lt;code&gt;10SEP22,17:26,UID01,John Wick,root,TEST 10SEP22,17:30,UID110,Bat Man,DBusr,Rerun Backup. 10SEP22,23:02,UID02,Peter Parker,admin,COPY FILE &amp;amp; EDIT DATE &lt;/code&gt;&lt;/pre&gt; &lt;p&gt;Any help is much appreciated.&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=&quot;https://www.reddit.com/user/Gold-Ad-5257&quot;&gt; /u/Gold-Ad-5257 &lt;/a&gt; &lt;br/&gt; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/y1f5s2/help_newbie_how_to_use_awk_to_specify_from_a/&quot;&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/y1f5s2/help_newbie_how_to_use_awk_to_specify_from_a/&quot;&gt;[comments]&lt;/a&gt;&lt;/span&gt;</content><id>t3_y1f5s2</id><link href="https://www.reddit.com/r/awk/comments/y1f5s2/help_newbie_how_to_use_awk_to_specify_from_a/" /><updated>2022-10-11T17:36:41+00:00</updated><published>2022-10-11T17:36:41+00:00</published><title>help : newbie : How to use awk to specify from a field X to end of line</title></entry><entry><author><name>/u/morihacky</name><uri>https://www.reddit.com/user/morihacky</uri></author><category term="awk" label="r/awk"/><content type="html">&amp;#32; submitted by &amp;#32; &lt;a href=&quot;https://www.reddit.com/user/morihacky&quot;&gt; /u/morihacky &lt;/a&gt; &lt;br/&gt; &lt;span&gt;&lt;a href=&quot;https://kau.sh/blog/awk-1-oneliner-dollar-explanation/&quot;&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/xn9t13/what_does_02_in_awk_do_learn_awk/&quot;&gt;[comments]&lt;/a&gt;&lt;/span&gt;</content><id>t3_xn9t13</id><link href="https://www.reddit.com/r/awk/comments/xn9t13/what_does_02_in_awk_do_learn_awk/" /><updated>2022-09-25T01:24:20+00:00</updated><published>2022-09-25T01:24:20+00:00</published><title>What does $0=$2 in awk do? learn awk</title></entry><entry><author><name>/u/shrchem</name><uri>https://www.reddit.com/user/shrchem</uri></author><category term="awk" label="r/awk"/><content type="html">&lt;!-- SC_OFF --&gt;&lt;div class=&quot;md&quot;&gt;&lt;p&gt;I have a file which looks something like this:&lt;/p&gt; &lt;pre&gt;&lt;code&gt;ATOM 3667 CD1 ILE 237 12.306 -11.934 16.545 1.00 0.00 ATOM 3668 HD11 ILE 237 12.949 -12.488 16.075 1.00 0.00 ATOM 3669 HD12 ILE 237 11.408 -12.181 16.274 1.00 0.00 ATOM 3670 HD13 ILE 237 12.463 -11.002 16.328 1.00 0.00 ATOM 3671 C ILE 237 9.292 -11.489 20.242 1.00 0.00 ATOM 3672 O ILE 237 8.722 -10.388 20.078 1.00 0.00 ATOM 3673 OXT ILE 237 9.145 -12.132 21.279 1.00 0.00 TER ATOM 3674 N1 LIG 238 -1.541 3.935 2.126 1.00 0.00 ATOM 3675 C2 LIG 238 -0.418 6.199 2.597 1.00 0.00 ATOM 3676 N3 LIG 238 -3.604 3.076 2.842 1.00 0.00 ATOM 3677 C4 LIG 238 1.091 5.162 4.121 1.00 0.00 ATOM 3678 C5 LIG 238 0.498 4.906 5.503 1.00 0.00 &lt;/code&gt;&lt;/pre&gt; &lt;p&gt;After TER in $1 you can see that from next record the $4 field is LIG, and the $5 is 238, I want to change $5 to 1 for the first time LIG is matched then 2 for the next and so on.&lt;/p&gt; &lt;p&gt;This is how I want it to be:&lt;/p&gt; &lt;pre&gt;&lt;code&gt;ATOM 3667 CD1 ILE 237 12.306 -11.934 16.545 0.00 0.00 ATOM 3668 HD11 ILE 237 12.949 -12.488 16.075 0.00 0.00 ATOM 3669 HD12 ILE 237 11.408 -12.181 16.274 0.00 0.00 ATOM 3670 HD13 ILE 237 12.463 -11.002 16.328 0.00 0.00 ATOM 3671 C ILE 237 9.292 -11.489 20.242 1.00 0.00 ATOM 3672 O ILE 237 8.722 -10.388 20.078 1.00 0.00 ATOM 3673 OXT ILE 237 9.145 -12.132 21.279 0.00 0.00 TER ATOM 3674 N1 LIG 1 -1.541 3.935 2.126 0.00 0.00 ATOM 3675 C2 LIG 2 -2.491 3.845 3.151 0.00 0.00 ATOM 3676 N3 LIG 3 -3.604 3.076 2.842 0.00 0.00 ATOM 3677 C4 LIG 4 -3.852 2.404 1.633 0.00 0.00 ATOM 3678 C5 LIG 5 -2.826 2.559 0.663 0.00 0.00 &lt;/code&gt;&lt;/pre&gt; &lt;p&gt;I have banged my head around google, I need a quick fix. I could get till &lt;code&gt;awk &amp;#39;{ print $0 &amp;quot;\t&amp;quot; ++count[$1] }&amp;#39;&lt;/code&gt; which adds the counter as an extra column. Thanks for the help!!!&lt;/p&gt; &lt;/div&gt;&lt;!-- SC_ON --&gt; &amp;#32; submitted by &amp;#32; &lt;a href=&quot;https://www.reddit.com/user/shrchem&quot;&gt; /u/shrchem &lt;/a&gt; &lt;br/&gt; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/x5un6p/match_a_pattern_start_counter_and_replace_the_5th/&quot;&gt;[link]&lt;/a&gt;&lt;/span&gt; &amp;#32; &lt;span&gt;&lt;a href=&quot;https://www.reddit.com/r/awk/comments/x5un6p/match_a_pattern_start_counter_and_replace_the_5th/&quot;&gt;[comments]&lt;/a&gt;&lt;/span&gt;</content><id>t3_x5un6p</id><link href="https://www.reddit.com/r/awk/comments/x5un6p/match_a_pattern_start_counter_and_replace_the_5th/" /><updated>2022-09-04T18:55:29+00:00</updated><published>2022-09-04T18:55:29+00:00</published><title>Match a pattern, start counter and replace the 5th field with the counter. Help Needed.</title></entry></feed>